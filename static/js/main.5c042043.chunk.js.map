{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/SearchBar/SearchBar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Modal/Modal.js","Components/Services/PicFinderAPI.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","keyword","handleKeywordChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","e","preventDefault","trim","props","onSubmit","toast","error","className","s","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","pictures","chosenPic","toggleModal","onItemClick","map","pic","onClick","src","webformatURL","alt","tags","largeImageURL","ImageGalleryItemPic","id","Modal","handleEscape","code","handleClose","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","document","getElementById","fetchPictures","nextInputValue","baseApi","APIkey","nextPage","axios","get","then","r","data","hits","PropTypes","string","page","Button","onLoadMoreClick","ImageGallery","showModal","status","chosePic","dataset","source","newSearch","prevProps","prevState","prevPage","prevInputValue","request","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","color","height","width","rejection","length","App","handleFormSubmit","startPage","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.5c042043.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2DMMI\",\"rejection\":\"ImageGallery_rejection__2VUnf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Fcw4\",\"ImageGalleryItemPic\":\"ImageGalleryItem_ImageGalleryItemPic__3JMMy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1y9x4\",\"Modal\":\"Modal_Modal__1Qejp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2_uUj\"};","// import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Component } from \"react\";\r\nimport s from \"./SearchBar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    keyword: \"\",\r\n\r\n  };\r\n  handleKeywordChange = (event) => {\r\n    this.setState({ keyword: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.keyword.trim() === \"\") {\r\n      toast.error(\"Enter something!\");\r\n\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.keyword);\r\n    this.setState({ keyword: \"\" });\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.keyword}\r\n            onChange={this.handleKeywordChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nexport default function ImageGalleryItem({ pictures, chosenPic, toggleModal }) {\r\n\r\n  function onItemClick(e) {\r\n    toggleModal();\r\n    chosenPic(e);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {pictures.map((pic) => {\r\n        return (<li onClick={onItemClick} key={pic.id} className={s.ImageGalleryItem}><img src={pic.webformatURL} alt={pic.tags} data-source={pic.largeImageURL} className={s.ImageGalleryItemPic} /></li>)\r\n      })}\r\n    </>)\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  toggleModal: PropTypes.func,\r\n  chosenPic: PropTypes.func,\r\n  largeImageURL: PropTypes.string,\r\n};","import PropTypes from 'prop-types';\r\nimport React, { Component } from \"react\";\r\nimport { createPortal } from 'react-dom';\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleEscape);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleEscape);\r\n    }\r\n\r\n    handleEscape = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.toggleModal();\r\n        }\r\n    };\r\n\r\n    handleClose = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.toggleModal();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={s.Overlay} onClick={this.handleClose}>\r\n                <div className={s.Modal}>{this.props.children}</div>\r\n            </div>,\r\n            document.getElementById('modalRoot'),\r\n        );\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    handleClose: PropTypes.func,\r\n}","import PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\n\r\nexport function fetchPictures(nextInputValue, baseApi, APIkey, nextPage) {\r\n\r\n    return axios\r\n        .get(\r\n            `${baseApi}?key=${APIkey}&page=${nextPage}&q=${nextInputValue}&image_type=photo&per_page=12`\r\n        )\r\n        .then(r => { return r.data.hits });\r\n\r\n}\r\nfetchPictures.PropTypes = {\r\n    nextInputValue: PropTypes.string,\r\n    baseApi: PropTypes.string,\r\n    APIkey: PropTypes.string,\r\n    page: PropTypes.string,\r\n}\r\n\r\n","import s from \"./Button.module.css\"\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nexport default function Button({ onLoadMoreClick }) {\r\n    return (\r\n        <button className={s.Button} type=\"button\" onClick={onLoadMoreClick}>\r\n            Load more\r\n        </button>\r\n    );\r\n}\r\nButton.propTypes = {\r\n    onLoadMoreClick: PropTypes.func,\r\n};","import s from \"./ImageGallery.module.css\";\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\nimport { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Modal from '../Modal'\r\nimport { fetchPictures } from '../Services/PicFinderAPI';\r\nimport Button from '../Button/Button'\r\n\r\n\r\n\r\n\r\nexport default class ImageGallery extends Component {\r\n    state = {\r\n        baseApi: 'https://pixabay.com/api/',\r\n        APIkey: '22968833-cf9b798f42870513c2372fa03',\r\n        page: 1,\r\n        pictures: [],\r\n        chosenPic: '',\r\n        showModal: false,\r\n        status: 'idle',\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { baseApi, APIkey, } = this.state\r\n        const prevPage = prevState.page;\r\n        let nextPage = null;\r\n        const prevInputValue = prevProps.request;\r\n        const nextInputValue = this.props.request;\r\n        if (prevInputValue !== nextInputValue) {\r\n            nextPage = this.props.page\r\n        } else { nextPage = this.state.page }\r\n\r\n\r\n        if (prevInputValue !== nextInputValue || prevPage !== nextPage) {\r\n\r\n            this.setState({ status: 'pending', })\r\n            fetchPictures(nextInputValue, baseApi, APIkey, nextPage)\r\n\r\n                .then((data) => {\r\n                    if (prevInputValue === nextInputValue) { this.setState({ pictures: [...prevState.pictures, ...data], status: 'resolve' }) };\r\n                    if (prevInputValue !== nextInputValue) {\r\n                        this.setState({\r\n                            pictures: []\r\n                        })\r\n                        this.setState({ pictures: [...data], status: 'resolve', })\r\n                    };\r\n                    window.scrollTo({\r\n                        top: document.documentElement.scrollHeight,\r\n                        behavior: 'smooth',\r\n                    });\r\n                })\r\n\r\n                .catch(err => {\r\n                    this.setState({ error: err, status: 'rejected' })\r\n                })\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    chosePic = e => {\r\n        this.setState({\r\n            chosenPic: e.target.dataset.source,\r\n        });\r\n\r\n    };\r\n\r\n    toggleModal = () => {\r\n        this.setState({\r\n            showModal: !this.state.showModal,\r\n        });\r\n    };\r\n\r\n\r\n    onLoadMoreClick = () => {\r\n        this.setState({\r\n            page: this.state.page + 1,\r\n\r\n        });\r\n    };\r\n\r\n    newSearch = () => {\r\n        this.setState({\r\n            page: 1\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { pictures, status, } = this.state\r\n\r\n        if (status === 'idle') {\r\n            return <div></div>;\r\n        }\r\n        if (status === 'pending') {\r\n\r\n            return (\r\n                <>\r\n                    <ul className={s.ImageGallery}>\r\n                        <ImageGalleryItem pictures={pictures} chosenPic={this.chosePic} toggleModal={this.toggleModal} />\r\n                    </ul>\r\n                    <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} /></>\r\n            );\r\n        }\r\n        if (status === 'rejected') {\r\n            return (\r\n                <div>\r\n                    <div className={s.rejection}>Sorry, no matches found</div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (status === 'resolve') {\r\n            if (pictures.length === 0) {\r\n                return (\r\n                    <div>\r\n                        <div className={s.rejection}>Sorry, no matches found</div>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            return (\r\n                <>\r\n                    <ul className={s.ImageGallery}>\r\n\r\n                        <ImageGalleryItem pictures={pictures} chosenPic={this.chosePic} toggleModal={this.toggleModal} />\r\n                    </ul>\r\n                    {this.state.showModal && (\r\n                        <Modal toggleModal={this.toggleModal}>\r\n                            <img className=\"modalImage\" src={this.state.chosenPic} alt=\"\" />\r\n                        </Modal>\r\n                    )}\r\n                    <Button onLoadMoreClick={this.onLoadMoreClick} />\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    request: PropTypes.string,\r\n};","\r\nimport { Component } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./App.css\";\r\nimport SearchBar from \"./Components/SearchBar\";\r\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\"\r\n\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    keyword: \"\",\r\n    page: null,\r\n    showModal: false,\r\n  };\r\n  handleFormSubmit = (keyword) => {\r\n    this.setState({ keyword });\r\n    this.setState({ page: 1 })\r\n\r\n  };\r\n  render() {\r\n    return (\r\n      <div className='App'>\r\n        <SearchBar onSubmit={this.handleFormSubmit} />\r\n\r\n        <ImageGallery request={this.state.keyword} startPage={this.state.page} />\r\n        <ToastContainer autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2Xmbt\",\"SearchForm\":\"SearchBar_SearchForm__37Y6p\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2zPXP\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__7KlPi\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1oWNe\"};"],"sourceRoot":""}